<div class="container">

  <div class="login-form">
    <h1 class="title">Create your account!</h1>

    <mat-card class="card">
      <mat-card-content *ngIf="!isLoading">
        <form [formGroup]="registerForm" (ngSubmit)="register()" class="form">
          <div class="name-lastname">
            <p>
              <mat-form-field>
                <input
                  type="text"
                  matInput
                  placeholder="Name"
                  formControlName="name"
                />
              </mat-form-field>
            </p>

            <p>
              <mat-form-field>
                <input
                  type="text"
                  matInput
                  placeholder="Lastname"
                  formControlName="lastname"
                />
              </mat-form-field>
            </p>
          </div>

          <p>
            <mat-form-field>
              <input
                type="text"
                matInput
                placeholder="Username"
                formControlName="username"
              />
            </mat-form-field>
          </p>

          <p class="password-field">
            <mat-form-field class="password-input">
              <input
                #password [type]="showPassword ? 'text' : 'password'"
                matInput
                placeholder="Password"
                formControlName="password"
              />
              <img src="../../assets/view.png" matTooltip="Show password" matTooltipPosition="above" class="eye" *ngIf="!showPassword" (click)="changePasswordVisibility()" alt="">
              <img src="../../assets/hidden.png" matTooltip="Hided password" matTooltipPosition="above" class="eye" *ngIf="showPassword" (click)="changePasswordVisibility()" alt="">
            </mat-form-field>
          </p>

          <mat-error *ngIf="errorMessage" class="error">
            {{ errorMessage }}
          </mat-error>

          <div class="button">
            <button type="submit" mat-button>Register</button>
          </div>
        </form>
      </mat-card-content>
      <mat-spinner *ngIf="isLoading"></mat-spinner>
    </mat-card>
  </div>
  <div class="login-image-section">
    <div class="login-details">
      <h1>Already have an account?</h1>
      <span>To keep connected with us please login with tour personal info!</span>
      <button routerLink="/login" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="register-button" mat-raised-button>Login</button>
    </div>
  </div>
</div>
